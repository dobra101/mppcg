MACHINE ExplicitChecks
VARIABLES
  x
INVARIANT
  x:NATURAL &
  
  // from TLC Tests
  {xx|xx:1..81 & card({a,b|a:2..9 & b:2..4 & a**b=xx})=2} = {16,64,81}
  &

  { {1,2,3} , {3,2,1}, 1..3, {x|x:-1..100 & x>0 & x<4}} = {1..3}
  
  
  &
  // REPL Unit Tests
    ( (%x.(x : 1 .. 9000|{x + 1}) \/ {0 |-> {0}} ; %y.(y <: {0,3}|y) \/ {{0} |-> {0}}) = {(0|->{0}),(2|->{3})} ) /* 15/10/2011 9:20 */
 &
  ( {1 |-> (1 .. 2000000) - {2222},2 |-> {3}}(1 + 1) = {3} ) /* 18/10/2011 6:9 */
 &
  ( {1 |-> 2,3 |-> 4,4 |-> 4,-1 |-> 33,1 |-> 22}[3 .. 10000000] = {4} ) /* 19/10/2011 16:11 */
  & // from REPL Unit Tests 1
   ( card(%x.(x : 1 .. 2000000|x * 2)) = 2000000 ) /* 18/6/2011 9:13 */
 &
  ( dom(%x.(x : 1 .. 2000000|x * 2)) = 1 .. 2000000 ) /* 18/6/2011 9:14 */
INITIALISATION
  x:= 0
OPERATIONS
  incX = SELECT x<1000 THEN x:= x+1 END;
  reset = BEGIN x:=0 END
END